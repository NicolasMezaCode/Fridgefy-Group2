{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nicki\\\\Desktop\\\\Web development\\\\React-Proyect\\\\Fridgefy-Group2\\\\src\\\\Frontend\\\\Components\\\\MyFridge.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useRef, useContext } from 'react';\nimport { RecipeContext } from \"./RecipeContext\";\nimport { useAuthContext } from '../../AuthContext';\nimport { dataBaseService } from '../../Backend/FirebaseUtils';\nimport { getIngredientsData } from '../../Backend/FetchIngredients';\nimport FridgeContents from './FridgeContents';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const MyFridge = () => {\n  _s();\n\n  const searchRef = useRef();\n  const {\n    setIngredients,\n    getMyIngredients\n  } = useContext(RecipeContext);\n  const {\n    user\n  } = useAuthContext();\n\n  const submitHandler = async e => {\n    e.preventDefault();\n    const keyword = await searchRef.current.value; //Set ingredient data to the state\n\n    const result = await getIngredientsData(keyword);\n    setIngredients(result); //Store a data to firebase\n    //New ingredient\n\n    const newIngredient = {\n      name: result,\n      userId: user.uid\n    };\n    await dataBaseService.addIngredient(newIngredient);\n    await getMyIngredients(user.uid); //Reset form\n\n    searchRef.current.value = '';\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"My Fridge\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitHandler,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"search ingredients\",\n        ref: searchRef\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\",\n        value: \"Add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(FridgeContents, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MyFridge, \"ikssEnd3kpKiB9TMnLAaFz6SSQA=\", false, function () {\n  return [useAuthContext];\n});\n\n_c = MyFridge;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyFridge\");","map":{"version":3,"names":["React","useRef","useContext","RecipeContext","useAuthContext","dataBaseService","getIngredientsData","FridgeContents","MyFridge","searchRef","setIngredients","getMyIngredients","user","submitHandler","e","preventDefault","keyword","current","value","result","newIngredient","name","userId","uid","addIngredient"],"sources":["C:/Users/nicki/Desktop/Web development/React-Proyect/Fridgefy-Group2/src/Frontend/Components/MyFridge.jsx"],"sourcesContent":["import React, { useRef, useContext} from 'react';\r\nimport { RecipeContext } from \"./RecipeContext\";\r\nimport { useAuthContext } from '../../AuthContext';\r\nimport { dataBaseService } from '../../Backend/FirebaseUtils';\r\nimport { getIngredientsData } from '../../Backend/FetchIngredients';\r\nimport FridgeContents from './FridgeContents';\r\n\r\n\r\nexport const MyFridge = () => {\r\n    const searchRef = useRef();\r\n    const { setIngredients, getMyIngredients} = useContext(RecipeContext)\r\n    const { user }=useAuthContext();\r\n\r\n    const submitHandler = async (e) =>{\r\n        e.preventDefault();\r\n        const keyword = await searchRef.current.value;\r\n        //Set ingredient data to the state\r\n        const result = await getIngredientsData(keyword)\r\n        setIngredients(result)\r\n\r\n        //Store a data to firebase\r\n        //New ingredient\r\n        const newIngredient = {\r\n            name: result,\r\n            userId: user.uid\r\n        }\r\n        await dataBaseService.addIngredient(newIngredient)\r\n        await getMyIngredients(user.uid)\r\n\r\n        //Reset form\r\n        searchRef.current.value = '';\r\n    }\r\n\r\n  return (\r\n    <>\r\n        <h3>My Fridge</h3>\r\n        <form onSubmit={submitHandler}>\r\n            <input type=\"text\" placeholder='search ingredients' ref={searchRef} />\r\n            <input type=\"submit\" value=\"Add\" />\r\n        </form>\r\n        <FridgeContents />\r\n    </>\r\n  )\r\n}"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,EAAwBC,UAAxB,QAAyC,OAAzC;AACA,SAASC,aAAT,QAA8B,iBAA9B;AACA,SAASC,cAAT,QAA+B,mBAA/B;AACA,SAASC,eAAT,QAAgC,6BAAhC;AACA,SAASC,kBAAT,QAAmC,gCAAnC;AACA,OAAOC,cAAP,MAA2B,kBAA3B;;;AAGA,OAAO,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EAC1B,MAAMC,SAAS,GAAGR,MAAM,EAAxB;EACA,MAAM;IAAES,cAAF;IAAkBC;EAAlB,IAAsCT,UAAU,CAACC,aAAD,CAAtD;EACA,MAAM;IAAES;EAAF,IAASR,cAAc,EAA7B;;EAEA,MAAMS,aAAa,GAAG,MAAOC,CAAP,IAAY;IAC9BA,CAAC,CAACC,cAAF;IACA,MAAMC,OAAO,GAAG,MAAMP,SAAS,CAACQ,OAAV,CAAkBC,KAAxC,CAF8B,CAG9B;;IACA,MAAMC,MAAM,GAAG,MAAMb,kBAAkB,CAACU,OAAD,CAAvC;IACAN,cAAc,CAACS,MAAD,CAAd,CAL8B,CAO9B;IACA;;IACA,MAAMC,aAAa,GAAG;MAClBC,IAAI,EAAEF,MADY;MAElBG,MAAM,EAAEV,IAAI,CAACW;IAFK,CAAtB;IAIA,MAAMlB,eAAe,CAACmB,aAAhB,CAA8BJ,aAA9B,CAAN;IACA,MAAMT,gBAAgB,CAACC,IAAI,CAACW,GAAN,CAAtB,CAd8B,CAgB9B;;IACAd,SAAS,CAACQ,OAAV,CAAkBC,KAAlB,GAA0B,EAA1B;EACH,CAlBD;;EAoBF,oBACE;IAAA,wBACI;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAM,QAAQ,EAAEL,aAAhB;MAAA,wBACI;QAAO,IAAI,EAAC,MAAZ;QAAmB,WAAW,EAAC,oBAA/B;QAAoD,GAAG,EAAEJ;MAAzD;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAO,IAAI,EAAC,QAAZ;QAAqB,KAAK,EAAC;MAA3B;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAFJ,eAMI,QAAC,cAAD;MAAA;MAAA;MAAA;IAAA,QANJ;EAAA,gBADF;AAUD,CAnCM;;GAAMD,Q;UAGMJ,c;;;KAHNI,Q"},"metadata":{},"sourceType":"module"}